# Privilege Escalation

first thing we need know which user we are currently using by commands: **whoami** and **net user** to get more details(Windows ) and on linux we can use id command for more details or reading passwd file

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled.png)

```bash
cat /etc/passwd
```

then we need know which machine we are on and what it can do so we can check itâ€™s name by **hostname** command in both linux and Windows

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%201.png)

but we need more info about the OS and Kernal so we will use **systeminfo(Windows)** command what concern us here is **(OS Name,OS Version,System Type)**

```bash
systeminfo
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%202.png)

in Linux use **uname -a** 

```bash
uname -a
or 
cat /etc/issue
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%203.png)

## Network Enum

Ok so now we know some info about the OS then we start to look for running processes in order to find any process that u can deal with and at the same it uses higher privileges on Windows :

```powershell
tasklist /svc
```

*it shows u the procesess that are running on the same account not the higher priv*

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%204.png)

on linux :

```bash
ps aux
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%205.png)

since we control a machine in internal network we need to scan the network for new interesting hosts or ports and perform pivoting 

in windows :

```bash
ipconfig /all
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%206.png)

```bash
route print
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%207.png)

```bash
netstat -ano
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%208.png)

**in linux**:

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%209.png)

for Open Ports:

```bash
ss -anp
```

![Untitled](../../Media/network-pentesting/Privilege%20Escalation%20c9bd98f00a7c4bb6bb60210276936af5/Untitled%2010.png)

## Firewall Enum